.dashboard{box-sizing:border-box;overflow-x:hidden;max-width:100%;padding-bottom:4rem;min-width:0}
.dashboard .container-fluid,.dashboard .row{min-width:0;overflow-x:visible}
.dashboard .account-card-mini{width:100%;border-radius:0.75rem!important;overflow:visible}
.dashboard .app-header{align-items:center}
.dashboard .app-header .app-logo{width:44px;height:44px;object-fit:contain}
.dashboard .app-header .app-title .h5{font-size:1.05rem;letter-spacing:0.2px}
.text-prussian-blue{color:var(--color-prussian-blue)!important}
.text-columbia-blue{color:var(--color-columbia-blue)!important}
.text-bittersweet{color:var(--color-bittersweet)!important}
.text-prestado{color:var(--color-prussian-blue)!important}
.dashboard .text-danger{color:var(--color-bittersweet)!important}
.account-card-mini.card{display:flex;flex-direction:column;justify-content:space-between;box-sizing:border-box;height:auto; padding-block:2.6rem; padding-inline:0.6rem;}
/* Small screens: increase vertical spacing to avoid touching edges */
@media(max-width:575.98px){
	.account-card-mini.card{padding-block:2rem; padding-inline:0.6rem}
}

/* Add modest inner horizontal padding for specific child rows to avoid touching edges */
.account-card-mini.card .d-flex,
.account-card-mini.card .account-amount-row,
.account-card-mini.card .add-account-text{
	padding-left:0.6rem;
	padding-right:0.6rem;
}

/* Fix rows/cols inside account cards: remove negative row margins and add col padding so content never touches edges */
.account-card-mini.card .row{margin-left:0; margin-right:0}
.account-card-mini.card [class*="col-"]{padding-left:0.35rem; padding-right:0.35rem}

/* Small inline/stacked elements should also have a little breathing room */
.account-card-mini.card .d-block,
.account-card-mini.card .small,
.account-card-mini.card .opacity-75{
	padding-left:0.15rem;
	padding-right:0.15rem;
}
.chip-mini{border-radius:4px;width:32px!important;height:20px!important;margin-right:0.5rem}
.bg-balance{
	background: var(--theme-balance-bg, linear-gradient(135deg,var(--color-prussian-blue) 0%,var(--color-prussian-blue-light) 100%));
	color: var(--theme-balance-text, var(--color-columbia-blue)) !important;
}

/* Theme-based balance card styles for desktop */
@media (min-width: 768px) {
	/* Keep prior intent but rely on theme variables set by ThemeService */
	.dashboard[data-theme="1"] .bg-balance {
		background: var(--theme-balance-bg, #ffffff) !important;
		color: var(--theme-balance-text, var(--theme-btn-bg)) !important;
		border: 1px solid rgba(0,0,0,0.1) !important;
	}

	.dashboard[data-theme="1"].dark .bg-balance {
		background: var(--theme-balance-bg) !important;
		color: var(--theme-balance-text, #ffffff) !important;
		border: 1px solid var(--theme-balance-bg) !important;
	}
}

.bg-prestado{background:linear-gradient(135deg,var(--color-columbia-blue) 0%,var(--color-columbia-blue-light) 100%);color:var(--color-prussian-blue)!important}
.bg-adeudado{background:linear-gradient(135deg,var(--color-bittersweet) 0%,var(--color-bittersweet-light) 100%);color:inherit}
.dashboard .bg-success-subtle{background:linear-gradient(135deg,var(--color-columbia-blue) 0%,var(--color-columbia-blue-light) 100%)!important;color:var(--color-prussian-blue)!important}
.dashboard .bg-danger-subtle{background:linear-gradient(135deg,var(--color-bittersweet) 0%,var(--color-bittersweet-light) 100%)!important;color:#fff}
.dashboard .text-truncate-1{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.dashboard .cards-row{display:flex;flex-wrap:nowrap;gap:0.25rem;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;padding:0.25rem;scroll-snap-type:x mandatory;scroll-behavior:smooth;-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y;justify-content:flex-start;align-items:flex-start;width:100%;box-sizing:border-box;padding-inline-end:0.5rem;min-width:0}

/* Prevent auto-scrolling to focused elements */
.account-card-mini:focus,
.bg-new-account:focus {
  scroll-behavior: auto;
  scroll-margin: 0;
}
.dashboard .cards-row.row{margin-left:0!important;margin-right:0!important;--bs-gutter-x:0.5rem;width:100%;box-sizing:border-box}
.dashboard .cards-row.row>[class*="col-"]{padding-left:0.25rem;padding-right:0.25rem;min-width:220px}
.dashboard .cards-row>.account-card-mini,.dashboard .cards-row>.card,.dashboard .cards-row>*{flex:0 0 auto;width:auto;min-width:220px;max-width:280px;box-sizing:border-box;scroll-snap-align:start}

/* Account selection for shared payment */
.account-selection {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.account-option {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem;
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.3);
  }

  input[type="radio"] {
    margin: 0;
  }

  label {
    margin: 0;
    cursor: pointer;
    flex: 1;
  }
}

/* Modal z-index for pay shared modal */
::ng-deep .modal-backdrop {
  z-index: 2999 !important;
}

::ng-deep .modal {
  z-index: 3000 !important;
}
.dashboard .cards-row>.account-card-mini *{min-width:0}
.dashboard .cards-row img{max-width:100%;height:auto;display:block}
.dashboard .row.g-2.cards-row::after{content:'';flex:0 0 1.25rem}
.dashboard .cards-row>[class*="col-"]{flex:0 0 auto!important;width:auto!important;min-width:220px!important;max-width:280px!important;overflow:visible!important}
.dashboard .cards-row>[class*="col-"]>.account-card-mini{width:auto!important}
.dashboard .cards-row .account-card-mini *{min-width:0!important}
@media(max-width:575.98px){.dashboard .cards-row::-webkit-scrollbar{height:8px}.dashboard .cards-row::-webkit-scrollbar-thumb{background:rgba(0,0,0,0.18);border-radius:8px}}
.dashboard .row>[class*="col-"]>.card{margin-left:0!important;margin-right:0!important}
.dashboard .card>.card-body{padding:1rem !important}
.dashboard .card-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1rem}
.dashboard .card-header > .d-flex{width:100%}
.dashboard .card-header .quick-menu-wrapper{margin-left:auto}
.dashboard .card{padding-left:0;padding-right:0}
.dashboard .list-group{margin-top:1.5rem!important}
@keyframes card-pop{0%{transform:scale(1);box-shadow:0 6px 18px rgba(0,0,0,0.12)}50%{transform:scale(1.035);box-shadow:0 12px 28px rgba(0,0,0,0.18)}100%{transform:scale(1);box-shadow:0 6px 18px rgba(0,0,0,0.12)}}
.account-card-mini.selected{animation:card-pop 260ms cubic-bezier(.2,.8,.2,1)}
.account-card-mini:active{transform:scale(0.985);transition:transform 120ms ease-out}
.account-card-mini{transform-origin:center center}

/* Piggy bank icon for savings accounts - use mask so it inherits text color */
.account-icon{display:inline-block;width:1.2rem;height:1.2rem;background-color:currentColor;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;-webkit-mask-size:contain;mask-size:contain}
.account-icon{opacity:0.85}
.account-icon.icon-hucha{-webkit-mask-image:url('/hucha.png');mask-image:url('/hucha.png')}
.account-icon.icon-credito{-webkit-mask-image:url('/tarjeta-de-credito.png');mask-image:url('/tarjeta-de-credito.png')}
.section-title{font-size:0.95rem!important;margin:0!important;letter-spacing:0.2px;display:flex;align-items:center;gap:0.4rem;padding:0.35rem 0}
.accounts-title{margin-top:0.35rem!important;margin-bottom:0.25rem!important}
.dashboard .cards-row>[class*="col-"]{display:flex;align-items:stretch}
.dashboard .cards-row>[class*="col-"]>.account-card-mini.card{flex:1 1 auto;display:flex;flex-direction:column;justify-content:space-between}
.account-selected-badge-container{top:0;right:0;position:absolute;transform:translate(50%,-50%);pointer-events:none;z-index:50}
.account-selected-badge-container .bg-white{width:1.4rem;height:1.4rem;border-radius:50%;box-shadow:0 4px 10px rgba(0,0,0,0.12);display:flex;align-items:center;justify-content:center}

/* Edit account button */
.account-edit-badge-container{top:0;right:1.4rem;position:absolute;transform:translate(50%,-50%);z-index:50}
.account-edit-btn{background:rgba(255,255,255,0.9);border:1px solid rgba(0,0,0,0.1);border-radius:50%;width:1.4rem;height:1.4rem;padding:0;display:flex;align-items:center;justify-content:center;font-size:0.7rem;color:#6c757d;transition:all 0.2s ease;backdrop-filter:blur(4px)}
.account-edit-btn:hover{background:rgba(255,255,255,1);color:#007bff;border-color:#007bff;transform:scale(1.1)}
.account-edit-btn:active{transform:scale(0.95)}
/* Center the check mark inside the circular badge */
.account-selected-badge-container .bg-white small{
	display:inline-flex;
	align-items:center;
	justify-content:center;
	width:100%;
	height:100%;
	line-height:1;
	font-size:0.75rem;
	font-weight:700;
}
.bg-new-account{background:linear-gradient(135deg,rgba(99,102,241,0.1) 0%,rgba(147,51,234,0.05) 50%,rgba(236,72,153,0.05) 100%)!important;border:2px dashed rgba(99,102,241,0.3)!important;box-shadow:0 8px 25px rgba(99,102,241,0.1)!important;display:flex!important;align-items:center!important;justify-content:center!important;cursor:pointer!important;transition:all 0.3s cubic-bezier(0.4,0,0.2,1)!important;position:relative!important;overflow:hidden!important}
.bg-new-account::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(99,102,241,0.05) 0%,rgba(147,51,234,0.02) 50%,rgba(236,72,153,0.02) 100%);opacity:0;transition:opacity 0.3s ease}
.bg-new-account:hover{transform:translateY(-8px) scale(1.02)!important;border-color:rgba(99,102,241,0.5)!important;box-shadow:0 20px 40px rgba(99,102,241,0.2)!important}
.bg-new-account::after{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,0.1) 50%,transparent 70%);transform:rotate(45deg);transition:all 0.6s ease;opacity:0}
.bg-new-account:hover::before{opacity:1}
.bg-new-account:hover::after{animation:shimmer 1.5s ease-in-out infinite}
.tx-meta{display:inline-flex;align-items:center;gap:0.35rem}
.tx-category{opacity:0.8}
@keyframes shimmer{0%{transform:translateX(-100%) translateY(-100%) rotate(45deg);opacity:0}50%{opacity:1}100%{transform:translateX(100%) translateY(100%) rotate(45deg);opacity:0}}
.bg-new-account .add-account-text{color:rgba(11,57,84,0.95)!important;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.25rem;z-index:2}
.bg-new-account .plus-icon{display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:rgba(255,255,255,0.95);border-radius:50%;box-shadow:0 8px 25px rgba(99,102,241,0.15);color:rgba(99,102,241,0.9);font-weight:700}

/* Keep default (light mode) styles as-is above. Add scoped overrides for dark mode */
.dashboard.dark .bg-new-account .add-account-text{color:#ffffff !important;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:0.25rem;z-index:2}
.dashboard.dark .bg-new-account .plus-icon{display:flex;align-items:center;justify-content:center;width:48px;height:48px;background:#e9ecef;border-radius:50%;box-shadow:0 8px 25px rgba(99,102,241,0.15);color:var(--color-prussian-blue);font-weight:700}

@media(max-width:768px){.bg-new-account .plus-icon{width:40px;height:40px}.bg-new-account .add-account-text .fs-6{font-size:0.9rem}}
@media(min-width:576px) and (max-width:991.98px){.dashboard .row.g-2{display:flex;flex-wrap:wrap;align-items:stretch}.dashboard .row.g-2>.col-12.order-1{flex:1 1 100%;max-width:100%;min-width:0;overflow:hidden;position:relative}.dashboard .row.g-2.cards-row{display:flex!important;flex-wrap:nowrap!important;overflow-x:auto!important}.dashboard .row.g-2>[class*='col-']{display:flex;flex-direction:column}.dashboard .row.g-2>.col-12.col-sm-6.order-2>.card,.dashboard .row.g-2>.col-12.col-sm-6.order-2>.card>.card-body{flex:1 1 auto;display:flex;flex-direction:column}.dashboard .row.g-2>.col-12.col-sm-6.order-3{display:flex;flex-direction:column}}

.show-only-md{display:none}
@media(min-width:576px) and (max-width:991.98px){.show-only-md{display:flex;gap:0.25rem;align-items:center}.dashboard .top-metrics{display:none!important}.app-header .app-title .h5{font-size:1.05rem}}
@media(min-width:992px){.show-only-md{display:flex;gap:0.5rem;align-items:center}.dashboard .top-metrics{display:none!important}}
@media(max-width:575.98px){.show-only-md{display:none!important}.dashboard .row>.col-12.order-1{display:block!important}.dashboard .top-metrics{display:flex!important}}
.calendar-fab{width:40px;height:40px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;padding:0;font-size:18px;box-shadow:0 8px 18px rgba(2,6,23,0.18);line-height:1}
@media(min-width:576px){.calendar-fab{display:none!important}}
.header-menu .btn{border-radius:8px}
.header-menu .dropdown-menu{min-width:10rem}
@media(max-width:575.98px){.header-menu .btn{background:rgba(11,57,84,0.06)}}
.header-metrics .metric-card{min-width:64px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0.12rem 0.3rem;margin-right:0.12rem!important}
.header-metrics .metric-card:last-child{margin-right:0!important}
.header-metrics .metric-card .small{font-size:0.62rem}
.header-metrics .metric-card .fw-bold{font-size:0.9rem}
@media(min-width:992px){.dashboard .row.g-2>.col-lg-4{display:flex;flex-direction:column}.dashboard .row.g-2>.col-lg-4>.card{flex:1 1 auto;display:flex;flex-direction:column}.dashboard .row.g-2>.col-lg-4>.card>.card-body{flex:1 1 auto;display:flex;flex-direction:column}.h-lg-100{height:100%!important}.dashboard .row.g-2>.col-lg-4>.card.mb-2{margin-bottom:0!important}}
@media(min-width:1200px){.dashboard .row.g-2>.col-xl-4{display:flex;flex-direction:column}.dashboard .row.g-2>.col-xl-4>.card{flex:1 1 auto;display:flex;flex-direction:column}.dashboard .row.g-2>.col-xl-4>.card>.card-body{flex:1 1 auto;display:flex;flex-direction:column}}
@media(min-width:1400px){
	/* Make account cards larger on xxl screens */
	.dashboard .cards-row.row>[class*="col-"]{min-width:260px}
	.dashboard .cards-row>.account-card-mini,.dashboard .cards-row>.card,.dashboard .cards-row>*{min-width:260px;max-width:340px}
	.dashboard .cards-row>[class*="col-"]>.account-card-mini{min-width:260px;max-width:340px}

	/* Slightly increase inner padding for larger cards */
	.account-card-mini.card{padding-block:3rem; padding-inline:0.8rem}

	/* Increase font-size for the three top balance cards */
	.bg-balance .fw-bold, .bg-prestado .fw-bold, .bg-adeudado .fw-bold{
		font-size:1.15rem !important;
	}
	.bg-balance .small, .bg-prestado .small, .bg-adeudado .small{
		font-size:0.85rem !important;
	}
}
.header-menu-custom .menu-btn-circle{width:44px;height:44px;border-radius:50%;border:2px solid var(--color-prussian-blue-dark);background:var(--color-prussian-blue);color:var(--color-columbia-blue);display:inline-flex;align-items:center;justify-content:center;font-size:1.15rem;font-weight:600;cursor:pointer;transition:all .25s ease;box-shadow:0 4px 10px rgba(0,0,0,0.18);position:relative;padding:0;line-height:1}
.header-menu-custom .menu-btn-circle:hover{background:var(--color-prussian-blue-light);transform:none;box-shadow:0 6px 14px rgba(0,0,0,0.22)}
.header-menu-custom .menu-btn-circle:active{transform:none;box-shadow:0 3px 8px rgba(0,0,0,0.25) inset}
.header-menu-custom .menu-dropdown{position:absolute;top:52px;right:0;min-width:12rem;background:#fff;border:1px solid rgba(0,0,0,0.08);border-radius:12px;padding:0.35rem 0.5rem;box-shadow:0 12px 28px -4px rgba(0,0,0,0.18),0 4px 12px -2px rgba(0,0,0,0.12);z-index:1000}
.header-menu-custom .menu-dropdown .dropdown-item{display:block;width:100%;border:none;background:transparent;text-align:left;padding:0.55rem 0.75rem;font-size:0.85rem;border-radius:6px;color:var(--color-prussian-blue);cursor:pointer;font-weight:500;transition:background-color .18s ease,color .18s ease}
.header-menu-custom .menu-dropdown .dropdown-item:hover{background:var(--color-columbia-blue-light);color:var(--color-prussian-blue-dark)}
.animate-fade-scale{animation:fadeScale .18s ease}
@keyframes fadeScale{from{opacity:0;transform:translateY(-4px) scale(.96)}to{opacity:1;transform:translateY(0) scale(1)}}
@media(min-width:992px) and (max-width:1199.98px){.category-amount{font-size:0.7rem!important;letter-spacing:0.15px}.category-name{font-size:0.65rem!important;letter-spacing:0.25px;font-weight:600!important}}
@media(min-width:1200px){.category-amount,.category-name{font-size:0.875rem!important;letter-spacing:normal;font-weight:600!important}}
.menu-btn-circle{border-radius:50%;border:1px solid var(--theme-btn-bg);background:var(--theme-btn-bg);color:var(--theme-btn-text);display:inline-flex;align-items:center;justify-content:center;font-weight:600;cursor:pointer;transition:all .25s ease;box-shadow:0 2px 6px rgba(0,0,0,0.15);position:relative;padding:0;line-height:0.9;width:24px;height:24px;font-size:0.7rem}
.menu-btn-circle:hover{background:var(--color-prussian-blue-light);border-color:var(--color-prussian-blue-light);transform:translateY(-1px);box-shadow:0 4px 8px rgba(0,0,0,0.2);color:var(--color-columbia-blue)}
.menu-btn-circle:active{transform:translateY(0);box-shadow:0 2px 4px rgba(0,0,0,0.2)}
.dropdown-menu{border-radius:8px;border:1px solid rgba(0,0,0,0.08);box-shadow:0 8px 20px -4px rgba(0,0,0,0.15),0 4px 8px -2px rgba(0,0,0,0.1);padding:0.25rem}
.dropdown-item{font-size:0.8rem;padding:0.4rem 0.75rem;border-radius:4px;color:var(--color-prussian-blue);font-weight:500;transition:background-color .15s ease,color .15s ease}
/* Quick action menus */
.quick-menu-wrapper .menu-dropdown{position:absolute;top:32px;right:0;min-width:11rem;background:#fff;border:1px solid rgba(0,0,0,0.08);border-radius:10px;padding:0.35rem 0.4rem;box-shadow:0 8px 20px -4px rgba(0,0,0,0.18),0 3px 8px -2px rgba(0,0,0,0.12);z-index:900}
.quick-menu-wrapper{display:flex;align-items:center}
.quick-menu-wrapper .menu-btn-circle{display:inline-flex;align-items:center;justify-content:center}
.quick-menu-wrapper .menu-dropdown .dropdown-item{display:block;width:100%;border:none;background:transparent;text-align:left;padding:0.45rem 0.55rem;font-size:.75rem;border-radius:6px;color:var(--color-prussian-blue);cursor:pointer;font-weight:500;letter-spacing:.2px;transition:background-color .18s ease,color .18s ease}
.quick-menu-wrapper .menu-dropdown .dropdown-item:hover{background:var(--color-columbia-blue-light);color:var(--color-prussian-blue-dark)}
.quick-menu-wrapper .menu-dropdown .dropdown-divider{height:1px;margin:.25rem 0;background:rgba(0,0,0,0.06);border:0}

/* Small pager next to Movimientos header */
.movements-pager .pager-btn{width:26px;height:26px;padding:0;border-radius:6px;display:inline-flex;align-items:center;justify-content:center;font-weight:600;border:1px solid rgba(11,57,84,0.08);background:transparent;color:var(--color-prussian-blue);box-shadow:none}
.movements-pager .pager-btn:disabled{opacity:0.45}
.movements-pager .pager-info{min-width:18px;text-align:center}
.movements-pager{gap:0.25rem}

@media(max-width:575.98px){
	.movements-pager{gap:0.15rem}
	.movements-pager .pager-btn{width:22px;height:22px;border-radius:6px;font-size:0.9rem}
	.movements-pager .pager-info{min-width:14px;font-size:0.75rem}
}

/* >>> Added: focused styles for account amount blocks (only affect titles & values) */
.account-amount-row{display:flex;gap:0.5rem;align-items:flex-start;justify-content:flex-start}
.account-amount-row .col{padding-left:0;padding-right:0}
.account-amount-title{
	color:rgba(255,255,255,0.75); /* slightly gray, not full white */
	font-size:0.85rem;
	line-height:1.05;
	margin:0 0 0.125rem 0;
	white-space:nowrap;
	text-align:left;
}
.account-amount-value{
	color:#ffffff !important; /* ensure amounts stay white even if parent has inline styles */
	font-size:1.05rem;
	font-weight:600;
	line-height:1.05;
	white-space:nowrap;
	text-align:left;
}

/* Make cards more flexible/responsive: remove rigid min/max constraints so they size to content */
.dashboard .cards-row>.account-card-mini,.dashboard .cards-row>.card,.dashboard .cards-row>*{
	min-width:0 !important;
	max-width:none !important;
	width:auto !important;
	box-sizing:border-box;
}

/* Approximate credit-card aspect ratio so taller content fits without line breaks */
.account-card-mini.card{
	aspect-ratio: 1.586 / 1;
}
	
/* Small tweak: keep inner flex columns left-aligned and compact */
.account-card-mini .account-amount-row{align-items:flex-start}

/* End of added block */

/* Dark mode for dashboard only: set requested solid background and keep header contrast */
.dashboard.dark{
	background-color: #2e2f32 !important;
	color: #e6eef6;
}

/* Ensure specific header texts contrast well on dark background */
.dashboard.dark .app-title .h5,
.dashboard.dark .accounts-title,
.dashboard.dark .section-title.accounts-title {
	color: #ffffff !important;
}

/* Light mode backgrounds for cards - higher specificity */
.card.movements-card,
.card.loans-card,
.card.categories-card,
.card.categories-card-sm {
	background-color: white !important;
}

/* Make specific cards use the requested dark gray in dark mode - higher specificity */
.dashboard.dark .card.movements-card,
.dashboard.dark .card.loans-card,
.dashboard.dark .card.categories-card,
.dashboard.dark .card.categories-card-sm {
	background-color: #424348 !important;
	color: #e6eef6 !important;
}

/* Adjust inner text contrast for those cards */
.dashboard.dark .movements-card .section-title,
.dashboard.dark .loans-card .section-title,
.dashboard.dark .categories-card .section-title,
.dashboard.dark .categories-card-sm .section-title {
	color: #ffffff !important;
}

/* Make the main loan amount (the h6.fw-bold.mb-0) light blue in dark mode, overriding inline styles */
.dashboard.dark .loans-card h6.fw-bold.mb-0 {
  color: #CCE0F0 !important;
}

/* Make each transaction item in the Movimientos list use the requested dark background */
.dashboard.dark .movements-card .list-group-item {
	background-color: #424348 !important;
	color: #e6eef6 !important;
}

/* Dates, category labels and related small text in dark mode */
.dashboard.dark .movements-card .tx-meta,
.dashboard.dark .movements-card .tx-category,
.dashboard.dark .movements-card .list-group-item .text-muted {
	color: #ffffff !important;
}

.dashboard.dark .categories-card .category-name,
.dashboard.dark .categories-card-sm .category-name {
	color: #ffffff !important;
}

.dashboard.dark .categories-card .category-amount,
.dashboard.dark .categories-card-sm .category-amount {
	color: #BFD7EA !important;
}

/* Loans: make the small labels (Prestado / Pedido) and quota small text white */
.dashboard.dark .loans-card small.text-muted,
.dashboard.dark .loans-card .small,
.dashboard.dark .loans-card .fw-semibold {
	color: #ffffff !important;
}

/* Circular quick action buttons (create movement / create loan) in dark mode */
.dashboard.dark .menu-btn-circle {
	background-color: var(--theme-btn-bg) !important;
	color: var(--theme-btn-text) !important;
	border-color: var(--theme-btn-bg) !important;
}
.dashboard.dark .menu-btn-circle:hover {
	filter: brightness(0.9) !important;
}

/* Pagination text/buttons in dark mode */
.dashboard.dark .movements-pager .pager-info,
.dashboard.dark .movements-pager .pager-btn {
	color: #ffffff !important;
	border-color: rgba(255,255,255,0.12) !important;
	background: transparent !important;
}

/* Reduce padding for approve button in shared transactions */
.list-group-item .btn-success {
	padding: 0.2rem 0.4rem !important;
	font-size: 0.65rem !important;
}

/* Dark mode for dashboard only: set requested solid background and keep header contrast */
.dashboard.dark{
	background-color: #2e2f32 !important;
	color: #e6eef6;
}

/* Ensure specific header texts contrast well on dark background */
.dashboard.dark .app-title .h5,
.dashboard.dark .accounts-title,
.dashboard.dark .section-title.accounts-title {
	color: #ffffff !important;
}

/* Light mode backgrounds for cards - higher specificity */
.card.movements-card,
.card.loans-card,
.card.categories-card,
.card.categories-card-sm {
	background-color: white !important;
}

/* Make specific cards use the requested dark gray in dark mode - higher specificity */
.dashboard.dark .card.movements-card,
.dashboard.dark .card.loans-card,
.dashboard.dark .card.categories-card,
.dashboard.dark .card.categories-card-sm {
	background-color: #424348 !important;
	color: #e6eef6 !important;
}

/* Adjust inner text contrast for those cards */
.dashboard.dark .movements-card .section-title,
.dashboard.dark .loans-card .section-title,
.dashboard.dark .categories-card .section-title,
.dashboard.dark .categories-card-sm .section-title {
	color: #ffffff !important;
}

/* Make the main loan amount (the h6.fw-bold.mb-0) light blue in dark mode, overriding inline styles */
.dashboard.dark .loans-card h6.fw-bold.mb-0 {
	color: #CCE0F0 !important;
}

/* Make each transaction item in the Movimientos list use the requested dark background */
.dashboard.dark .movements-card .list-group-item {
	background-color: #424348 !important;
	color: #e6eef6 !important;
}

/* Dates, category labels and related small text in dark mode */
.dashboard.dark .movements-card .tx-meta,
.dashboard.dark .movements-card .tx-category,
.dashboard.dark .movements-card .list-group-item .text-muted {
	color: #ffffff !important;
}

.dashboard.dark .categories-card .category-name,
.dashboard.dark .categories-card-sm .category-name {
	color: #ffffff !important;
}

.dashboard.dark .categories-card .category-amount,
.dashboard.dark .categories-card-sm .category-amount {
	color: #BFD7EA !important;
}

/* Loans: make the small labels (Prestado / Pedido) and quota small text white */
.dashboard.dark .loans-card small.text-muted,
.dashboard.dark .loans-card .small,
.dashboard.dark .loans-card .fw-semibold {
	color: #ffffff !important;
}

/* Circular quick action buttons (create movement / create loan) in dark mode */
.dashboard.dark .menu-btn-circle {
	background-color: var(--theme-btn-bg) !important;
	color: var(--theme-btn-text) !important;
	border-color: var(--theme-btn-bg) !important;
}
.dashboard.dark .menu-btn-circle:hover {
	filter: brightness(0.9) !important;
}

/* ===== MODAL STYLES FOR ACCOUNT FORM MODAL ===== */

/* Modal */
.modal-overlay {
	position: fixed !important;
	top: 0 !important;
	left: 0 !important;
	right: 0 !important;
	bottom: 0 !important;
	background: rgba(0,0,0,0.6) !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	z-index: 1000000 !important;
	opacity: 1 !important; /* Override global opacity: 0 */
	overflow: hidden !important; /* Prevent overlay from scrolling */

	.dashboard.dark & {
		background: rgba(0,0,0,0.8) !important;
	}
}

.modal-content {
	background: #ffffff;
	border-radius: 12px;
	padding: 2rem;
	width: 90%;
	max-width: 500px;
	max-height: 90vh;
	display: flex;
	flex-direction: column;
	transform: scale(0.9) translateY(-20px);
	animation: modalSlideIn 0.3s ease forwards;
	box-shadow: 0 10px 30px rgba(0,0,0,0.3);
	border: 1px solid rgba(0,0,0,0.1);
	overflow-y: auto !important; /* Ensure modal content can scroll */

	.dashboard.dark & {
		background: #121212 !important;
		color: #e0e0e0;
		border-color: #333;
		box-shadow: 0 10px 30px rgba(0,0,0,0.5);
	}

	@keyframes modalSlideIn {
		to {
			transform: scale(1) translateY(0);
		}
	}

	h2 {
		margin: 0 0 1.5rem 0;
		font-size: 1.5rem;
		color: #1e293b;
		font-weight: 600;

		.dashboard.dark & {
			color: #ffffff;
		}
	}
}

.form-group {
	margin-bottom: 1rem;

	label {
		display: block;
		margin-bottom: 0.25rem;
		font-weight: 500;
		color: #333333;

		.dashboard.dark & {
			color: #e0e0e0;
		}
	}

	input, select {
		width: 100%;
		padding: 0.75rem;
		border: 2px solid #e5e7eb;
		border-radius: 8px;
		font-size: 1rem;
		background: #ffffff;
		color: #000000;
		transition: border-color 0.2s ease, box-shadow 0.2s ease;

		.dashboard.dark & {
			background: #1a1a1a !important;
			border-color: #555;
			color: #e0e0e0;
		}

		&:focus {
			outline: none;
			border-color: #3b82f6;
			box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
		}

		.dashboard.dark &:focus {
			border-color: #00ff88;
			box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.1);
		}
	}

	.form-text {
		font-size: 0.875rem;
		color: #6c757d;
		margin-top: 0.25rem;
		display: block;

		.dashboard.dark & {
			color: #a0a0a0;
		}
	}
}

// 2-column form layout
.form-grid {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 1rem;
	margin-bottom: 1rem;

	@media (max-width: 768px) {
		grid-template-columns: 1fr;
		gap: 0.75rem;
	}
}

.form-column {
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}

// Account type buttons
.account-type-buttons {
	display: flex;
	gap: 0.75rem;
	margin-top: 0.5rem;

	@media (max-width: 480px) {
		flex-direction: column;
		gap: 0.5rem;
	}
}

.account-type-btn {
	flex: 1;
	padding: 0.75rem 1rem;
	border: 2px solid #e5e7eb;
	border-radius: 8px;
	background: #ffffff;
	color: #374151;
	font-size: 0.9rem;
	font-weight: 500;
	cursor: pointer;
	transition: all 0.2s ease;
	text-align: left;
	display: flex;
	align-items: center;
	gap: 0.5rem;

	.dashboard.dark & {
		background: #1a1a1a;
		border-color: #555;
		color: #e0e0e0;
	}

	&:hover {
		border-color: #3b82f6;
		background: #f8fafc;

		.dashboard.dark & {
			border-color: #00ff88;
			background: #2a2a2a;
		}
	}

	&.active {
		border-color: #3b82f6;
		background: #eff6ff;
		color: #1d4ed8;

		.dashboard.dark & {
			border-color: #00ff88;
			background: #003300;
			color: #00ff88;
			box-shadow: 0 0 10px rgba(0, 255, 136, 0.2);
		}
	}

	&:focus {
		outline: 2px solid #3b82f6;
		outline-offset: 2px;

		.dashboard.dark & {
			outline-color: #00ff88;
		}
	}
}

// Step indicator
.step-indicator {
	display: flex;
	align-items: center;
	justify-content: center;
	margin-bottom: 1rem;
	padding: 0 1rem;
}

.step {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.5rem;
	opacity: 0.5;
	transition: opacity 0.3s ease;

	&.active {
		opacity: 1;
	}
}

.step-number {
	width: 2rem;
	height: 2rem;
	border-radius: 50%;
	background: #e5e7eb;
	color: #6b7280;
	display: flex;
	align-items: center;
	justify-content: center;
	font-weight: 600;
	font-size: 0.875rem;
	transition: all 0.3s ease;

	.dashboard.dark & {
		background: #555;
		color: #a0a0a0;
	}

	.step.active & {
		background: #3b82f6;
		color: white;

		.dashboard.dark & {
			background: #00ff88;
			color: #121212;
		}
	}
}

.step-label {
	font-size: 0.75rem;
	font-weight: 500;
	color: #6b7280;

	.dashboard.dark & {
		color: #a0a0a0;
	}

	.step.active & {
		color: #374151;

		.dashboard.dark & {
			color: #e0e0e0;
		}
	}
}

.step-line {
	width: 3rem;
	height: 2px;
	background: #e5e7eb;
	margin: 0 1rem;
	transition: background-color 0.3s ease;

	.dashboard.dark & {
		background: #555;
	}

	&.active {
		background: #3b82f6;

		.dashboard.dark & {
			background: #00ff88;
		}
	}
}

// Step content animations
.step-content {
	display: none;
	opacity: 0;
	transform: translateX(0);
	transition: all 0.3s ease;
	flex: 1;
	min-height: 0;
	overflow-y: auto; /* Allow step content to scroll */

	&.active {
		display: flex;
		flex-direction: column;
		opacity: 1;
	}

	&.slide-left {
		transform: translateX(-100%);
		opacity: 0;
	}

	&.slide-in {
		animation: slideInFromRight 0.3s ease forwards;
	}
}

@keyframes slideInFromRight {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

// Card style selection
.card-style-section {
	text-align: center;
	flex: 1;
	display: flex;
	flex-direction: column;
	min-height: 0;
}

.section-title {
	font-size: 1.25rem;
	font-weight: 600;
	color: #1e293b;
	margin-bottom: 0.5rem;
	flex-shrink: 0;

	.dashboard.dark & {
		color: #ffffff;
	}
}

.section-subtitle {
	color: #64748b;
	font-size: 0.9rem;
	margin-bottom: 0.5rem;
	flex-shrink: 0;

	.dashboard.dark & {
		color: #a0a0a0;
	}
}

.card-style-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
	gap: 1rem;
	overflow-y: auto;
	padding: 0.5rem;
	flex: 1;
	min-height: 0;
	max-height: 300px;
}

.card-style-option {
	cursor: pointer;
	border-radius: 12px;
	overflow: hidden;
	border: 3px solid transparent;
	transition: all 0.2s ease;
	background: white;

	.dashboard.dark & {
		background: #2d2d2d;
	}

	&:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(0,0,0,0.15);

		.dashboard.dark & {
			box-shadow: 0 4px 12px rgba(0,0,0,0.3);
		}
	}

	&.selected {
		border-color: #3b82f6;
		box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);

		.dashboard.dark & {
			border-color: #00ff88;
			box-shadow: 0 0 0 3px rgba(0, 255, 136, 0.1);
		}
	}

	&:focus {
		outline: 2px solid #3b82f6;
		outline-offset: 2px;

		.dashboard.dark & {
			outline-color: #00ff88;
		}
	}
}

.card-preview {
	height: 80px;
	position: relative;
	color: white;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 0.5rem;
}

.card-content {
	text-align: center;
	text-shadow: 0 1px 2px rgba(0,0,0,0.5);
}

.card-name {
	font-size: 0.75rem;
	font-weight: 600;
	margin-bottom: 0.25rem;
}

.card-type {
	font-size: 0.6rem;
	opacity: 0.8;
	text-transform: uppercase;
	letter-spacing: 0.5px;
}

.card-info {
	padding: 0.75rem;
	background: #f8fafc;

	.dashboard.dark & {
		background: #1a1a1a;
	}
}

.card-description {
	font-size: 0.75rem;
	color: #64748b;

	.dashboard.dark & {
		color: #a0a0a0;
	}
}

// Button styles
.btn-secondary {
	background: #6b7280;
	color: white;
	border: none;
	padding: 0.75rem 1.5rem;
	border-radius: 8px;
	font-weight: 600;
	cursor: pointer;
	transition: all 0.2s ease;

	&:hover {
		background: #4b5563;
		transform: translateY(-1px);
	}

	&:focus {
		outline: 2px solid #6b7280;
		outline-offset: 2px;
	}
}

.btn-primary {
	background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
	color: white;
	border: none;
	padding: 0.75rem 1.5rem;
	border-radius: 8px;
	font-weight: 600;
	cursor: pointer;
	transition: all 0.2s ease;

	&:hover:not(:disabled) {
		transform: translateY(-1px);
		box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
	}

	&:disabled {
		opacity: 0.6;
		cursor: not-allowed;
		transform: none;
	}

	&:focus {
		outline: 2px solid #3b82f6;
		outline-offset: 2px;
	}
}

.form-actions {
	margin-top: auto;
	padding-top: 0.75rem;
	flex-shrink: 0;

	.form-actions-row {
		display: flex;
		gap: 1rem;
		justify-content: space-between;
		margin-bottom: 0.75rem;

		button {
			flex: 1;
			padding: 0.75rem 1.5rem;
			border: none;
			border-radius: 8px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.2s ease;
			font-size: 1rem;

			&.btn-cancel {
				background: #6b7280;
				color: white;

				&:hover {
					background: #4b5563;
					transform: translateY(-1px);
				}

				&:focus {
					outline: 2px solid #6b7280;
					outline-offset: 2px;
				}
			}

			&.btn-secondary {
				background: #6b7280;
				color: white;

				&:hover {
					background: #4b5563;
					transform: translateY(-1px);
				}

				&:focus {
					outline: 2px solid #6b7280;
					outline-offset: 2px;
				}
			}
		}
	}

	.btn-save-full {
		width: 100%;
		padding: 0.75rem 1.5rem;
		border: none;
		border-radius: 8px;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.2s ease;
		font-size: 1rem;
		background: linear-gradient(135deg, #10b981 0%, #059669 100%);
		color: white;

		.dashboard.dark & {
			background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
			box-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
		}

		&:hover:not(:disabled) {
			transform: translateY(-1px);
			box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);

			.dashboard.dark & {
				box-shadow: 0 4px 12px rgba(0, 255, 136, 0.5);
			}
		}

		&:disabled {
			opacity: 0.6;
			cursor: not-allowed;
			transform: none;
		}

		&:focus {
			outline: 2px solid #10b981;
			outline-offset: 2px;

			.dashboard.dark & {
				outline-color: #00ff88;
			}
		}
	}

	// Legacy button styles for backward compatibility
	button {
		&.btn-cancel {
			background: #6b7280;
			color: white;

			&:hover {
				background: #4b5563;
				transform: translateY(-1px);
			}

			&:focus {
				outline: 2px solid #6b7280;
				outline-offset: 2px;
			}
		}

		&.btn-save {
			background: linear-gradient(135deg, #10b981 0%, #059669 100%);
			color: white;

			.dashboard.dark & {
				background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
				box-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
			}

			&:hover {
				transform: translateY(-1px);
				box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);

				.dashboard.dark & {
					box-shadow: 0 4px 12px rgba(0, 255, 136, 0.5);
				}
			}

			&:focus {
				outline: 2px solid #10b981;
				outline-offset: 2px;

				.dashboard.dark & {
					outline-color: #00ff88;
				}
			}
		}
	}
}

// Responsive
@media (max-width: 768px) {
	.modal-content {
		width: 95%;
		max-width: none;
		padding: 1.5rem;
		margin: 1rem;

		h2 {
			font-size: 1.25rem;
			margin-bottom: 1rem;
		}
	}

	.form-group {
		margin-bottom: 1rem;

		label {
			font-size: 0.9rem;
		}

		input, select {
			padding: 0.5rem;
			font-size: 0.9rem;
		}

		.form-text {
			font-size: 0.8rem;
		}
	}

	.form-actions {
		flex-direction: column;
		gap: 0.75rem;

		button {
			width: 100%;
			padding: 0.75rem;
			font-size: 1rem;
		}
	}
}

@media (max-width: 480px) {
	.modal-content {
		padding: 1rem;
		margin: 0.5rem;

		h2 {
			font-size: 1.125rem;
		}
	}

	.form-actions button {
		padding: 0.625rem;
	}
}

/* Theme styles for income and expenses cards */
.bg-income-theme {
	background: var(--theme-income-bg) !important;
}

.text-income-theme {
	color: var(--theme-income-text) !important;
	opacity: 1 !important;
}

.bg-expenses-theme {
	background: var(--theme-expenses-bg) !important;
}

.text-expenses-theme {
	color: var(--theme-expenses-text) !important;
	opacity: 1 !important;
}

/* Delete transaction button styles */
.delete-transaction-btn {
	border: 1px solid rgba(220, 53, 69, 0.3) !important;
	background: transparent !important;
	color: #dc3545 !important;
	transition: all 0.2s ease !important;

	&:hover {
		border-color: #dc3545 !important;
		background: #dc3545 !important;
		color: white !important;
		transform: translateY(-1px);
		box-shadow: 0 2px 4px rgba(220, 53, 69, 0.3);
	}

	&:active {
		transform: translateY(0);
		box-shadow: none;
	}
}

.delete-icon {
	font-size: 0.9rem;
	font-weight: bold;
	line-height: 1;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Theme-based delete button styles */
.dashboard[data-theme="1"] .delete-transaction-btn {
	background: var(--theme-btn-bg) !important;
	color: var(--theme-btn-text) !important;
	border-color: var(--theme-btn-bg) !important;

	&:hover {
		background: var(--theme-btn-text) !important;
		color: var(--theme-btn-bg) !important;
		border-color: var(--theme-btn-text) !important;
	}
}

.dashboard[data-theme="2"] .delete-transaction-btn {
	background: var(--theme-cards-bg) !important;
	color: var(--theme-btn-text) !important;
	border-color: var(--theme-cards-bg) !important;

	&:hover {
		background: var(--theme-btn-bg) !important;
		color: var(--theme-btn-text) !important;
		border-color: var(--theme-btn-bg) !important;
	}
}

